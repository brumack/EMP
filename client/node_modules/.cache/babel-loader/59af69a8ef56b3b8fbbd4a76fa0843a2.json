{"ast":null,"code":"import _regeneratorRuntime from \"/Users/bradrumack/Projects/employee-tracker/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/bradrumack/Projects/employee-tracker/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { storeToken } from '../utils/handleToken';\nimport local from '../api/local';\nvar methods = {\n  createUser: function () {\n    var _createUser = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(values, callback) {\n      var response, data;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return local.post(\"/user/new\", values);\n\n            case 2:\n              response = _context.sent;\n              data = response.data;\n\n              if (!data.success) {\n                callback(data.message);\n              } else if (data.token) {\n                callback(null, {\n                  token: data.token\n                });\n                storeToken(data.token);\n              }\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    function createUser(_x, _x2) {\n      return _createUser.apply(this, arguments);\n    }\n\n    return createUser;\n  }(),\n  login: function () {\n    var _login = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2(credentials, callback) {\n      var response, data;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return local.post(\"/user/login\", credentials);\n\n            case 2:\n              response = _context2.sent;\n              data = response.data;\n\n              if (!data.success) {\n                callback(data.message);\n              } else if (data.token) {\n                callback(null, {\n                  token: data.token\n                });\n                storeToken(data.token);\n              }\n\n            case 5:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    function login(_x3, _x4) {\n      return _login.apply(this, arguments);\n    }\n\n    return login;\n  }(),\n  logout: function () {\n    var _logout = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee3(token, callback) {\n      var response, data;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return local.get(\"/user/logout?token=\".concat(token));\n\n            case 2:\n              response = _context3.sent;\n              data = response.data;\n\n              if (!data.success) {\n                callback(data.message);\n              } else {\n                callback(null, {\n                  token: '',\n                  user: {}\n                });\n              }\n\n            case 5:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    function logout(_x5, _x6) {\n      return _logout.apply(this, arguments);\n    }\n\n    return logout;\n  }(),\n  verifyToken: function () {\n    var _verifyToken = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee4(token, callback) {\n      var response, data, result;\n      return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _context4.next = 2;\n              return local.get(\"/user/verify?token=\".concat(token));\n\n            case 2:\n              response = _context4.sent;\n              data = response.data;\n              result = data.success ? token : null;\n              callback(result);\n\n            case 6:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    function verifyToken(_x7, _x8) {\n      return _verifyToken.apply(this, arguments);\n    }\n\n    return verifyToken;\n  }(),\n  getUser: function () {\n    var _getUser = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee5(token, callback) {\n      var response, data;\n      return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.next = 2;\n              return local.get(\"/user?token=\".concat(token));\n\n            case 2:\n              response = _context5.sent;\n              data = response.data;\n              console.log(data);\n\n              if (!data.success) {\n                callback(data.message);\n              } else {\n                callback(null, data);\n              }\n\n            case 6:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    function getUser(_x9, _x10) {\n      return _getUser.apply(this, arguments);\n    }\n\n    return getUser;\n  }()\n};\nexport default methods;","map":{"version":3,"sources":["/Users/bradrumack/Projects/employee-tracker/client/src/lib/methods.js"],"names":["storeToken","local","methods","createUser","values","callback","post","response","data","success","message","token","login","credentials","logout","get","user","verifyToken","result","getUser","console","log"],"mappings":"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","sourcesContent":["import { storeToken } from '../utils/handleToken'\nimport local from '../api/local'\n\nconst methods = {\n\n  createUser: async (values, callback) => {\n    const response = await local.post(`/user/new`, values)\n    const data = response.data\n    if (!data.success) {\n      callback(data.message)\n    } else if (data.token) {\n      callback(null, { token: data.token })\n      storeToken(data.token)\n    }\n  },\n\n  login: async (credentials, callback) => {\n    const response = await local.post(`/user/login`, credentials)\n    const data = response.data\n    if (!data.success) {\n      callback(data.message)\n    } else if (data.token) {\n      callback(null, { token: data.token })\n      storeToken(data.token)\n    }\n  },\n\n  logout: async (token, callback) => {\n    const response = await local.get(`/user/logout?token=${token}`)\n    const data = response.data\n    if (!data.success) {\n      callback(data.message)\n    } else {\n      callback(null, { token: '', user: {} })\n    }\n  },\n\n  verifyToken: async (token, callback) => {\n    const response = await local.get(`/user/verify?token=${token}`)\n    const data = response.data\n    const result = data.success ? token : null\n    callback(result)\n  },\n\n  getUser: async (token, callback) => {\n    const response = await local.get(`/user?token=${token}`)\n    const data = response.data\n    console.log(data)\n    if (!data.success) {\n      callback(data.message)\n    } else {\n      callback(null, data)\n    }\n  }\n}\n\nexport default methods\n"]},"metadata":{},"sourceType":"module"}